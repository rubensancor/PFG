En esta sección se presentan las diferentes tecnologías que se han usado para el desarrollo del proyecto. Las principales tecnologías utilizadas son las siguientes:

\section{Node.js}
Esta es la autodefinición que se hace Node.js en su propia página web:

\begin{quote}
	Node.js\cite{wsdl13} es un entorno de ejecución para JavaScript construido con el motor de JavaScript V8 de Chrome. Node.js usa un modelo de operaciones E/S sin bloqueo y orientado a eventos, que lo hace liviano y eficiente. El ecosistema de paquetes de Node.js, npm, es el ecosistema mas grande de librerías de código abierto en el mundo.\\
\end{quote}


Node.js es una solución con un solo hilo de ejecución que permite que las peticiones a esta no bloqueen peticiones futuras ni exige grandes pools de hilos para tener conexiones concurrentes. Esto permite que los comercios onlines conecten con el servidor y le hagan una petición para recibir el widget a lo que el servidor responderá con el envió y el cierre de la conexión, evitando así el cuello de botella que se puede generar con conexiones masivas.\\

Node.js cuenta con un gestor de paquetes llamado npm del que se pueden descargar diferentes modulos para ampliar la funcionalidad de esta tecnología. Gracias a este gestor de paquetes node.js se convierte en una solución integral para la parte servidora habilitándole con todo lo necesario para cumplir las funciones del backend de una solución web.

Entre las ventajas que ofrece Node.js se encuentran las siguientes:

\begin{itemize}
	\item \textbf{Gran documentación:} tiene una gran documentación y 8 años de experiencia por lo que la mayoría de los casos y posibilidades están testadas haciendo su desarrollo mas sencillo.
	\item \textbf{Gran comunidad:} gracias al gestor de paquetes publico y a los años de experiencia Nodejs cuenta con una gran comunidad con la que poder consultar las dudas y usos de los diferentes paquetes.
	\item \textbf{npm:} su gestor de paquetes publico  permite reutilizar código y no perder tiempo implementando código que ya ha sido desarrollado y probado anteriormente.
	\item \textbf{Multiplataforma y open-source:} esta desarrollado para ser utilizado en cualquier sistema operativo y cuenta con una licencia MIT, lo cual lo hace gratuito y permite arreglar e incluso mejorar el propio código de la herramienta por los usuarios de esta.
\end{itemize}

\subsection{Funcionamiento}
En Node.js es muy sencillo crear aplicaciones nuevas que actuen en la parte servidora de una aplicación. Gracias a npm, Node.js es muy polivalente, pero a continuación se mostrará un ejemplo de un servidor HTTP:

\begin{codigo}
http.createServer(function (request, response) \{
	response.writeHead(200, {'Content-Type': 'text/plain'});
	response.end('Hello World');
\}).listen(8081);
console.log('Server running at http://127.0.0.1:8081/');
\end{codigo}

En este ejemplo se crea un servidor HTTP en el puerto 8081 de la maquina local. Una vez se entra al puerto 8081 de la maquina local, el servidor creara una respuesta en texto plano y la enviará al navegador, que mostrará por pantalla el mensaje.\\

Node.js funciona de una manera muy diferente dependiendo de los paquetes utilizados para el desarrollo de la aplicación por lo que a continuación explicare los paquetes utilizados para el desarrollo de este proyecto y como es el funcionamiento de cada uno de estos:

\subsection{Express}
Express es un framework web minimalista y flexible para el desarrollo de soluciones web en node.js. Express además aplica una fina capa con las características fundamentales de las aplicaciones web sobre la base de node.js permitiendo así mantener todas las funcionalidades que ofrece Node.js. Finalmente, Express ofrece una amplia y robusta API para hacer uso de todas las funcionalidades y características que ofrece.

\subsubsection{Funcionamiento}
Express no tiene una estructura de proyecto definida por los desarrolladores o comunidad, en cambio, tanto en la documentación como en numerosos sitios ofrecen un sistema de carpetas para tener el proyecto ordenado y las rutas definidas.

\begin{codigo}
	project/
	|--	node\_modules/
	|--	public/
			 |--	images/
			 |--	css/
			 |--	javascript/
	|--	routes/
	|--	views/
	|--	app.js
	|--	package.json
\end{codigo}

\begin{itemize}
	\item \textbf{Node\_modules:} en esta carpeta irán incluidas todas las dependencias del proyecto una vez descargadas automáticamente por npm.
	\item \textbf{Public:} en esta carpeta estarán los elementos de uso publico por parte del proyecto, imágenes, scripts de JavaScript y hojas de estilo.
	\item \textbf{Routes:} aquí se encuentran las rutas a las diferentes entidades en archivos diferentes.
	\item \textbf{Views:} en esta carpeta estarán incluidas las vistas del proyecto, es decir, las diferentes pantallas de la página web.
	\item \textbf{App.js:} es el archivo principal del proyecto.
	\item \textbf{Package.json:} es un archivo de configuración general del proyecto, en el irán las dependencias y los metadatos del proyecto.
\end{itemize}

\subsubsection{Razón de uso}
Se ha elegido este framework ante otros disponibles para Node.js por varias razones:

\begin{itemize}
	\item El primer commit de esta herramienta fue 2 meses después de la creación de Node.js y la primera versión 1 año después por lo que tiene un gran recorrido y madurez.
	\item Su sencillez para manejar las rutas y las vistas en una solución web.
	\item Gran comunidad de desarrolladores en la que apoyarse.
\end{itemize}

\subsection{Express-ejs-layouts}

\subsection{Nodemailer}
Nodemailer es un módulo para Node.js que permite enviar emails. Este módulo esta securizado de manera que los mensajes que envía los hace de manera segura. Permite adjuntar elementos a los mensajes y no depende de ningún otro paquete, lo que le convierte en un paquete muy completo.

\subsubsection{Funcionamiento}
Nodemailer es muy sencillo de usar, solo hay que definir el mensaje con los campos y archivos adjuntos que quieras añadir y también habrá que definir el transporter que sera el encargado de enviar el mensaje. En este caso no esta añadido la configuración del transporter.

\begin{codigo}
	var message = \{
		from: 'sender@server.com',
		to: 'receiver@sender.com',
		subject: 'Message title',
		text: 'Plaintext version of the message',
		html: '<p>HTML version of the message</p>'
	\};
	transporter.sendMail(data);
\end{codigo}

\subsubsection{Razón de uso}
Se ha utilizado este paquete para enviar los mails por su sencillez, el gran recorrido que tiene en esta materia, ya que fue creado en 2010 y por su completa documentación.

\subsection{Mongojs}
Mongojs es un paquete para Node.js que permite la conexión con bases de datos MongoDB. Este paquete intenta emular completamente la comunicación directa con la base de datos por lo que su API se asemeja mucho a la de MongoDB.

\subsubsection{Funcionamiento}
Mongojs es muy sencillo de usar, con la siguiente linea de código, conectaremos con una base de datos MongoDB que este en un servidor remoto y si añadimos la variable mycollection, conectaremos directamente con la colección dentro de la base de datos elegida. 

\begin{codigo}
	var db = mongojs('example.com/mydb', ['mycollection'])
\end{codigo}

A continuación se muestra un ejemplo en el que se busca en la base de datos todos los documentos en los que name=Jhon. Esta función devuelve los documentos que cumplan la condición y posteriormente se pueden tratar dentro de la función.

\begin{codigo}
	  db.mycollection.find(\{ 'Name':'Jhon'\}function (err, docs) \{
	  	// Insert code here 
	  \});
\end{codigo}

\subsubsection{Razón de uso}
Se ha utilizado este paquete para conectar con la base de datos por la facilidad con la que conecta con la base de datos y porque emula lo máximo posible la API de mongoDB haciendo su uso muy fácil si ya has utilizado mongoDB con anterioridad.

\subsection{Pdffiller}
Pdffiller es un paquete para Node.js que permite rellenar los formularios de los PDF’s con datos. Su uso se basa en recibir PDF’s con formularios sin rellenar, unos datos y combinarlos de manera que la salida sea un PDF completo. 

\subsubsection{Razón de uso}
Se ha utilizado este paquete por ser el mas utilizado por los usuarios entre las posibilidades. 

\section{MongoDB}
MongoDB es la base de datos NoSQL líder y permite a las empresas ser más ágiles y escalables. Organizaciones de todos los tamaños están usando MongoDB para crear nuevos tipos de aplicaciones, mejorar la experiencia del cliente, acelerar el tiempo de comercialización y reducir costes.\\

Es una base de datos muy ágil por lo que permite cambiar los esquemas al cambiar los requisitos y a la vez proporciona las mismas funcionalidades que se esperan de una base de datos tradicional, manteniendo la velocidad en las búsquedas y siendo consistente.\\

Gracias a ser una base de datos orientada a documentos no hay que ajustarse a un esquema estándar ni obligar a todos los registros a tener la misma información. Esto nos da mucha flexibilidad a la hora de querer introducir nuevos datos o alterar los que ya tenemos.\\

La base de datos del proyecto ha sido poblada mediante JSON, un formato de texto para el intercambio de datos del que hablaremos a continuación. 

\subsection{Razón de uso}
Se ha utilizado esta base de datos para el proyecto por las siguientes razones:

\begin{itemize}
	\item Gracias a su flexibilidad permite alojar diferentes datos en cada documento, permitiendo así ir modificándolos a medida que se van transformando mientras se mantienen unificados.
	\item Gran soporte para proyectos realizados con Node.js y sobre todo con express, lo que hace su integración muy sencilla.
	\item El formato de intercambio de datos que se va a utilizar a lo largo de todo el proyecto será el JSON.
	\item Los limites que oferta la base de datos en cuanto a los documentos encajan con los requisitos del proyecto.
	\item Gratuita y open-source.
\end{itemize}

\section{JSON}
Json (JavaScript Object Notation - Notación de Objetos de JavaScript) es un formato ligero de intercambio de datos. Leerlo y escribirlo es simple para humanos, mientras que para las máquinas es simple interpretarlo y generarlo.

\subsection{Funcionamiento}
Un objeto es un conjunto desordenado de pares nombre/valor. Los objetos comienzan con la llave { (llave apertura) y terminan con la llave } (llave de cierre). Cada nombre es seguido por : (dos puntos) y los pares nombre/valor están separados por , (coma).

\figuraSinMarco{0.8}{imgs/objectJSON.png}{Diagrama de la gramática de un objeto JSON}{objetoJSON}{}

En este ejemplo podemos ver como existe un 2 pares nombre/valor normales y uno que tiene un array de valores dentro.

\figuraSinMarco{0.3}{imgs/JSONejemplo.PNG}{Ejemplo de un JSON}{objetoJSON}{}

\section{Sass (CSS3)}
La definición de Sass y CSS3 integrados es la siguiente:

\begin{quote}
	Sass es un metalenguaje de Hojas de Estilo en Cascada (CSS). Es un lenguaje de script que es traducido a CSS. Sass consiste en dos sintaxis. La sintaxis más reciente, SCSS, usa el formato de bloques como CSS. Éste usa llaves para denotar bloques de código y punto y coma (;) para separar las líneas dentro de un bloque.\\
	
	CSS3 consiste en una serie de selectores y pseudo-selectores que agrupan las reglas que son aplicadas. Sass (en el amplio contexto de ambas sintaxis) extiende CSS proveyendo de varios mecanismos que están presentes en los lenguajes de programación tradicionales, particularmente lenguajes orientados a objetos, pero éste no está disponible para CSS3 como tal. Cuando SassScript se interpreta, éste crea bloques de reglas CSS para varios selectores que están definidos en el fichero SASS. El intérprete de SASS traduce SassScript en CSS. Alternativamente, Sass puede monitorear los ficheros .sass o .scss y convertirlos en un fichero .css de salida cada vez que el fichero .sass o .scss es guardado. Sass es simplemente azúcar sintáctica para escribir CSS.
\end{quote}

Las ventajas que ofrece este metalenguaje son las siguientes:

\begin{itemize}
	\item \textbf{Mixins:} Ofrece la posibilidad de crear bloques de estilo o mixins que se apliquen a mas de una etiqueta o clase, asi, al compilar el código, el estilo se replica a todas las etiquetas y clases aligerando el trabajo.
	\item \textbf{Argumentos:} permite utilizar argumentos para unificar la definición de valores.
	\item \textbf{Herencia:} permite definir una herencia para que los hijos implementen el estilo de los padres. 
\end{itemize}

\subsection{Razón de uso}
Se ha utilizado este metalenguaje en vez de su competidor más claro, less, por las siguientes razones:

\begin{itemize}
	\item Sass genera un código más optimo en algunos de las características que ambos metalenguajes comparten.
	\item Sass tiene varios años más que Less por lo que le hace más robusto y con una mayor comunidad de desarrolladores.
\end{itemize}

Y se usa este metalenguaje en vez de usar CSS directamente por las siguientes razones:

\begin{itemize}
	\item Permite un desarrollo más ágil de las hojas de estilo del proyecto.
	\item Innovación: permite aprender otra herramienta que agilice el desarrollo del CSS.
\end{itemize}

\section{D3.js}
D3.js (o simplemente D3 por las siglas de Data-Driven Documents) es una librería de JavaScript para producir, a partir de datos, infogramas dinámicos e interactivos en navegadores web. En contraste con muchas otras librerías, D3.js permite tener control completo sobre el resultado visual final.\\

Gracias a esta librería se pueden crear gráficos interactivos en los que se unifiquen datos que anteriormente se mostrarían en varios gráficos diferentes, creando así una experiencia más inmersiva en cuanto a la visualización de los datos. \\

Las ventajas principales que ofrece esta librería son:
\begin{itemize}
	\item \textbf{No añade carga a la página:} utiliza lenguajes ya existentes y que no suponen una carga mas para la página web en la que se aloja.
	\item \textbf{Amplias funcionalidades:} permite seleccionar diferentes elementos en una página web y alterarlos. También incluye transiciones para generar cambios visuales, muy similar a JQuery.
	\item \textbf{Asociación de datos:} los datos pueden dirigir la creación de los elementos permitiendo asi a los datos gobernar la visualización y crear diferentes gráficos dependiendo del dataset introducido.
\end{itemize}

\subsection{Funcionamiento}

\begin{codigo}
	codigo scss
\end{codigo}

\figuraSinMarco{0.7}{imgs/scss.png}{Scss y css compilado respectivamente}{scss}{}

\subsection{Razón de uso}
Se ha utilizado esta librería de visualización frente a otras por las siguientes razones:

\begin{itemize}
	\item Innovación: existe un creciente interés de desarrolladores por la herramienta y a su vez falta de programadores con conocimientos sobre ella.
	\item Gran integración con JSON y las herramientas utilizadas en el proyecto.
	\item Open-source y gratuita. 
\end{itemize}
